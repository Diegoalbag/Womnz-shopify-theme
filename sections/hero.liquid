<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    {% for block in section.blocks %}
        {% unless block.settings.hero_image == blank and block.settings.hero_image_mobile == blank %}
            {% if forloop.first == true %}
                <li data-target="#carouselExampleIndicators" data-slide-to="{{ block.id }}" class="active"></li>
            {% else %}
                <li data-target="#carouselExampleIndicators" data-slide-to="{{ block.id }}"></li>
            {% endif %}
        {% endunless %}
    {%endfor%}
  </ol>
  <div class="carousel-inner">
    {% for block in section.blocks %}
        {% unless block.settings.hero_image == blank and block.settings.hero_image_mobile == blank %}
            {% if forloop.first == true %}
                <div class="carousel-item active">
                    <img src="{{ block.settings.hero_image | img_url: '1024x' }}" class="d-none w-100 d-md-block" alt="...">
                    <img src="{{ block.settings.hero_image_mobile | img_url: '1024x' }}" class="w-100 d-block d-md-none" alt="...">
                    <div class="w-100 h-100 position-absolute d-flex flex-column carousel-content{{' '}} 
                    {%- case block.settings.button_position -%}
                        {%- when 'top left' -%}
                            carousel-content_topLeft
                        {%- when 'top right' -%}
                            carousel-content_topRight
                        {%- when 'bottom left' -%}
                            carousel-content_bottomLeft
                        {%- when 'bottom right' -%}
                            carousel-content_bottomRight
                        {%- when 'center' -%}
                            justify-content-center align-items-center
                        {%- else -%}
                            carousel-content_center
                    {%- endcase -%}
                    ">
                    {% unless block.settings.hero_title == blank %}
                        <h1 class="carousel-content_title display-1 text-uppercase font-weight-normal text-white my-5" >{{block.settings.hero_title}}</h1>
                    {% endunless %}
                    {% if block.settings.button == true and block.settings.linked_collection != blank%}
                        {% include 'button' %}
                    {% endif %}
                    </div>
                </div>
            {% else %}
                <div class="carousel-item">
                    <img src="{{ block.settings.hero_image | img_url: '1366x' }}" class="d-block w-100" alt="...">
                    <div class="carousel-content{{' '}} 
                    {%- case block.settings.button_position -%}
                        {%- when 'top left' -%}
                            carousel-content_topLeft
                        {%- when 'top right' -%}
                            carousel-content_topRight
                        {%- when 'bottom left' -%}
                            carousel-content_bottomLeft
                        {%- when 'bottom right' -%}
                            carousel-content_bottomRight
                        {%- when 'center' -%}
                            carousel-content_center
                        {%- else -%}
                            carousel-content_center
                    {%- endcase -%}
                    ">
                    {% if block.settings.button == true and block.settings.linked_collection != blank%}
                        {% include 'button' %}
                    {% endif %}
                    </div>
                </div>
            {% endif %}
        {% endunless %}
    {%endfor%}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

{% schema %}
{
    "name": "Hero",
    "settings": [],
    "blocks": [
        {
            "name": "Hero Slide",
            "type": "hero-slide",
            "settings": [
                {
                    "type": "image_picker",
                    "id": "hero_image",
                    "label": "Image"
                },
                {
                    "type": "image_picker",
                    "id": "hero_image_mobile",
                    "label": "Mobile Image"
                },
                {
                    "type": "text",
                    "id": "hero_title",
                    "label": "Hero Title"
                },
                {
                    "type": "checkbox",
                    "id": "button",
                    "label": "Include hero button"
                },
                {
                    "type": "collection",
                    "id": "linked_collection",
                    "label": "Linked collection"
                },
                {
                    "type": "select",
                    "id": "button_position",
                    "label": "Button position",
                    "options": [
                        {
                        "value": "top left",
                        "label": "Top Left"
                        },
                        {
                        "value": "top right",
                        "label": "Top Right"
                        },
                        {
                        "value": "bottom left",
                        "label": "Bottom Left"
                        },
                        {
                        "value": "bottom right",
                        "label": "Bottom Right"
                        },
                        {
                        "value": "center",
                        "label": "Center"
                        }
                    ],
                    "default": "center"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Hero"
        }
    ]
}
{% endschema %}